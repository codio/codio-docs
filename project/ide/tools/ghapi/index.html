<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Codio team">
        <link rel="canonical" href="https://docs.codio.com/project/ide/tools/ghapi/">
        <link rel="shortcut icon" href="../../../../img/favicon.ico">
        <title>Git Hub API - Codio</title>
        <link href="../../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="../../../../css/extra.css" rel="stylesheet">

        <script src="../../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/javscript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/java.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-39233819-4', 'docs.codio.com');
            ga('send', 'pageview');
        </script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../../..">Codio</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../../../.." class="nav-link">Documentation</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../../students/" class="nav-link">Students</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Courses <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../courses/assessments-library/" class="dropdown-item">Assessments Library</a>
</li>
                                    
<li>
    <a href="../../../../courses/assessments/" class="dropdown-item">Codio Assessments</a>
</li>
                                    
<li>
    <a href="../../../../courses/authoring/" class="dropdown-item">Content Authoring with Guides</a>
</li>
                                    
<li>
    <a href="../../../../courses/classes/" class="dropdown-item">Understanding Courses</a>
</li>
                                    
<li>
    <a href="../../../../courses/coursemanagement/" class="dropdown-item">Coursemanagement</a>
</li>
                                    
<li>
    <a href="../../../../courses/google-classroom/" class="dropdown-item">Integrating with Google Classrooms</a>
</li>
                                    
<li>
    <a href="../../../../courses/grading/" class="dropdown-item">Grading and accessing student projects</a>
</li>
                                    
<li>
    <a href="../../../../courses/lti1_0/" class="dropdown-item">Integrating with LTI 1.1 systems</a>
</li>
                                    
<li>
    <a href="../../../../courses/lti1_3/" class="dropdown-item">Integrating with LTI 1.3 systems</a>
</li>
                                    
<li>
    <a href="../../../../courses/plagiarism/" class="dropdown-item">Plagiarism Checker</a>
</li>
                                    
<li>
    <a href="../../../../courses/settings-actions/" class="dropdown-item">Guides Settings and Page actions</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Dashboard <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../dashboard/account/" class="dropdown-item">Account</a>
</li>
                                    
<li>
    <a href="../../../../dashboard/desktopapp/" class="dropdown-item">Desktop App</a>
</li>
                                    
<li>
    <a href="../../../../dashboard/navigation/" class="dropdown-item">Navigation</a>
</li>
                                    
<li>
    <a href="../../../../dashboard/organisations/" class="dropdown-item">Organizations</a>
</li>
                                    
<li>
    <a href="../../../../dashboard/overview/" class="dropdown-item">Overview</a>
</li>
                                    
<li>
    <a href="../../../../dashboard/support/" class="dropdown-item">Support</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Project <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../books/" class="dropdown-item">Books</a>
</li>
                                    
<li>
    <a href="../../../packs/" class="dropdown-item">How to use starter packs</a>
</li>
                                    
<li>
    <a href="../../../projects/" class="dropdown-item">Project Templates</a>
</li>
                                    
<li>
    <a href="../../../stacks/" class="dropdown-item">Stacks</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Ide</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../boxes/" class="dropdown-item">Accessing a Box</a>
</li>
            
<li>
    <a href="../../editing/" class="dropdown-item">Code Editing</a>
</li>
            
<li>
    <a href="../../features/" class="dropdown-item">Advanced IDE Features</a>
</li>
            
<li>
    <a href="../../introduction/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../../navigation/" class="dropdown-item">Basic IDE Features</a>
</li>
            
<li>
    <a href="../../panels/" class="dropdown-item">Panels & Tabs</a>
</li>
            
<li>
    <a href="../../settings/" class="dropdown-item">Settings</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Tools</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../deployment/" class="dropdown-item">Deployment</a>
</li>
            
<li>
    <a href="./" class="dropdown-item active">Git Hub API</a>
</li>
            
<li>
    <a href="../guides/" class="dropdown-item">Guides</a>
</li>
            
<li>
    <a href="../phonegap/" class="dropdown-item">Phonegap</a>
</li>
            
<li>
    <a href="../ssh/" class="dropdown-item">Remote SSH Terminal Access</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Resources <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../resources/Codio-Resources/" class="dropdown-item">Codio Resources</a>
</li>
                                    
<li>
    <a href="../../../../resources/changelog/" class="dropdown-item">Changelog</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Resource Tools</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../../resources/Resource-Tools/crunch/" class="dropdown-item">Crunch</a>
</li>
            
<li>
    <a href="../../../../resources/Resource-Tools/flode/" class="dropdown-item">Flode</a>
</li>
            
<li>
    <a href="../../../../resources/Resource-Tools/jeroo/" class="dropdown-item">Jeroo</a>
</li>
            
<li>
    <a href="../../../../resources/Resource-Tools/lexikon/" class="dropdown-item">Lexikon</a>
</li>
            
<li>
    <a href="../../../../resources/Resource-Tools/pencilcode/" class="dropdown-item">Pencil Code</a>
</li>
            
<li>
    <a href="../../../../resources/Resource-Tools/pyret/" class="dropdown-item">Pyret</a>
</li>
            
<li>
    <a href="../../../../resources/Resource-Tools/scratch/" class="dropdown-item">Scratch</a>
</li>
            
<li>
    <a href="../../../../resources/Resource-Tools/tkinter/" class="dropdown-item">Tkinter</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../deployment/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../guides/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/codio/codio-docs" class="nav-link"><i class="fa fa-github"></i> GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="3"><a href="#set-up-github-api-integration" class="nav-link">Set up GitHub API Integration</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="3"><a href="#api-integration-information" class="nav-link">API Integration information</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="3"><a href="#adding-ids-to-github-account" class="nav-link">Adding ID's to GitHub account</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="3"><a href="#implementing-workflow-actions" class="nav-link">Implementing workflow actions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="3"><a href="#working-with-gh-api" class="nav-link">Working with GH API</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="3"><a href="#working-with-gh-api-in-staging" class="nav-link">Working with GH API in staging</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<p>The Git Hub API can be used with <a href="https://github.com/features/actions">Git Hub Actions</a> to automate the publication of assignments.</p>
<p>You are able to create your assignments in Codio, connect the box to your GH repo and when merging your branch to master will be able to automatically publish the Codio assignment.</p>
<h3 id="set-up-github-api-integration">Set up GitHub API Integration<a class="headerlink" href="#set-up-github-api-integration" title="Permanent link"></a></h3>
<p>Create your API integration in the Organisation-&gt;Integrations area. This is only available to users with <a href="/dashboard/organisations/#administrator-role">Admin</a> rights.</p>
<p><img alt="api integration" src="/img/gh_int.png" /></p>
<p>The name of the integration is added to the <a href="/courses/classes/#managing-assignments">version history</a> record.
There is no limit to the number you can create so you can use the ID's in your individual GH repo or use in your GH account to apply to all repos</p>
<h3 id="api-integration-information">API Integration information<a class="headerlink" href="#api-integration-information" title="Permanent link"></a></h3>
<p>Click on the created integration to view the Client and Secret ID's where you can copy to clipboard to add into your GH account</p>
<p><img alt="api integration" src="/img/gh_show.png" /></p>
<p>The secret ID can be regenerated if required to manage/control access to publishing the codio assignment.</p>
<h3 id="adding-ids-to-github-account">Adding ID's to GitHub account<a class="headerlink" href="#adding-ids-to-github-account" title="Permanent link"></a></h3>
<p>In your repo go to Settings -&gt; Secrets and create Client ID and Secret ID copying in from your Codio integration.</p>
<p><img alt="GH secret" src="/img/gh_secrets.png" /></p>
<p>To create your secrets for the Codespace (ie applies for all repos in the account and available for all collaborators), click on <strong>Actions-&gt; Codespaces</strong> or to create just for the individual repo, click on <strong>New repository secret</strong> and create your secret keys.</p>
<p>We recommend you name each key including Client/Secret to identify which key is which and use other names to identify if it is just for this repo or for all repos in the codespace</p>
<h3 id="implementing-workflow-actions">Implementing workflow actions<a class="headerlink" href="#implementing-workflow-actions" title="Permanent link"></a></h3>
<p>From your repository on GitHub, create a new file in the .github/workflows directory with the extension <code>.yml</code> and configure for use.</p>
<p>See <a href="https://docs.github.com/en/actions/quickstart">Quickstart for GitHub actions</a></p>
<h4 id="example-yml-file-for-publishing-project-based-assignments">Example .yml file for publishing project based assignments<a class="headerlink" href="#example-yml-file-for-publishing-project-based-assignments" title="Permanent link"></a></h4>
<pre><code class="yml">name: codio-publish
# Run this workflow every time a new commit pushed to your repository branch noted below
on:
  push:
    branches:
      - master

jobs:
  build:
  # Set the type of machine to run on - do not change this. Any warnings you may see in workflow actions can be ignored
    runs-on: ubuntu-latest
    steps:
      - name: Log into Codio
        id: codio-login
        uses: codio/codio-auth-action@master
        with:
        # Use the ID's from the secrets below
          client-id: ${{ secrets.CODIO_DEMO_CLIENT_ID }}
          secret-id: ${{ secrets.CODIO_DEMO_SECRET_ID }}
      # Checks out a copy of your repository on the ubuntu-latest machine
      - name: Checkout
        uses: actions/checkout@v1

      - name: Cleanup
        run: rm -rf .github README.md
      # Recommend you use tar.gz . zip is allowed but it doesn't handle permissions correctly. See example below on how zip can be used
      - name: Archive
        run: tar czf ../data.tar.gz .

      - name: Publish to Codio
        uses: codio/codio-assignment-publish-action@master
        with:
          token: ${{ steps.codio-login.outputs.token }}
          # The course and assignment id of the codio assignment (see below)
          course-id: 004d0c98d345bfa262bfecdd9b510a0d
          assignment-id: dad1b5a4f6a3d5354047e9992ce4c346
          zip: ../data.tar.gz
          changelog: ${{ github.event.head_commit.message }}


</code></pre>

<p>The course/assignment id's are found from the URL in your browser when opening the assignment when on the <strong>Teach</strong> tab</p>
<p><img alt="Course/assignment id" src="/img/course_assignment_id.png" /></p>
<h4 id="example-yml-file-for-publishing-bookbook-based-assignments">Example .yml file for publishing book/book based assignments<a class="headerlink" href="#example-yml-file-for-publishing-bookbook-based-assignments" title="Permanent link"></a></h4>
<pre><code class="yml">name: codio-publish
# Run this workflow every time a new commit pushed to your repository branch noted below. Any warnings you may see in workflow actions can be ignored
on:
  push:
    branches:
      - master

jobs:
  build:
  # Set the type of machine to run on - do not change this
    runs-on: ubuntu-latest
    steps:
      - name: Log into Codio
        id: codio-login
        uses: codio/codio-auth-action@master
        with:
         # Use the ID's from the secrets below
          client-id: ${{ secrets.CODIO_DEMO_CLIENT_ID }}
          secret-id: ${{ secrets.CODIO_DEMO_SECRET_ID }}
          # Set the domain you are working on - codio.com or codio.co.uk
          domain: codio.com
# Checks out a copy of your repository on the ubuntu-latest machine
      - name: Checkout
        uses: actions/checkout@v1

      - name: Cleanup
        run: rm -rf .github README.md
      # Showing how zip can be used but we recommend you use tar.gz (see above example) . zip is allowed but it doesn't handle permissions correctly
      - name: Install Zip
        uses: montudor/action-zip@v0.1.1

      - name: Zip
        run: zip -qq -r ../data.zip .

      - name: Publish to Codio
        uses: codio/codio-book-publish-action@master
        with:
          token: ${{ steps.codio-login.outputs.token }}
          # The id of the codio book
          book-id: 5777e7e3b2ce90d2325e923d981a0a06
          # Set the domain you are workiing on - codio.com or codio.co.uk
          domain: codio.com
          # If using tar.gz see example code above
          zip: ../data.zip
          changelog: ${{ github.event.head_commit.message }}

      - name: Update Codio Course
        uses: codio/codio-course-book-update-action@master
        with:
          token: ${{ steps.codio-login.outputs.token }}
          # The codio course id 
          course-id: 5d2627e6b643887c072eea40
          # The id of the codio book - see above
          book-id: 5777e7e3b2ce90d2325e923d981a0a06
          # Set the domain you are working on - codio.com or codio.co.uk
          domain: codio.com
</code></pre>

<p>The book id's are found from the URL in your browser when viewing the book properties</p>
<p><img alt="Book ID" src="/img/book_id.png" /></p>
<p>The course id's are found (see above), from the URL in your browser when opening one of the assignments when on <strong>Teach</strong> tab</p>
<h3 id="working-with-gh-api">Working with GH API<a class="headerlink" href="#working-with-gh-api" title="Permanent link"></a></h3>
<p>The basic premise is that when updating your Codio assignment, you connect to your GH repo and create a new branch. Make your required changes and push to your repo. 
When you then merge your branch to the master branch, the GH workflow runs and publishes your Codio assignment. Progress/errors can be reviewed from the <strong>Actions</strong> area in your repo
It is recommended when you merge, that you select the option <strong>Squash and Merge</strong> as you can combine all your merge request’s commits into one and retain a clean history.</p>
<h3 id="working-with-gh-api-in-staging">Working with GH API in staging<a class="headerlink" href="#working-with-gh-api-in-staging" title="Permanent link"></a></h3>
<p>Your <code>.yml</code> file is commonly set up to execute against merges into the master branch but can be changed to execute when other branches merged and the codio assignment to be updated can be managed by reviewing/changing the course/assignment ids</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2020 Codio Inc.</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../../js/base.js" defer></script>
        <script src="../../../../javascripts/extra.js" defer></script>
        <script src="../../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
